<?xml version="1.0" encoding="GBK"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="manage.order">	<select id="manage.order.selectPageList" parameterType="net.jeeshop.services.manage.order.bean.Order" resultType="net.jeeshop.services.manage.order.bean.Order">	 select * 	 from t_order t where 1=1 	 <if test="id!=null and id!=''">		and id=#{id}	 </if>	 <if test="account!=null and account!=''">		and account=#{account}	 </if>	 <if test="status!=null and status!=''">		and status=#{status}	 </if>	 <if test="refundStatus!=null and refundStatus!=''">		and refundStatus=#{refundStatus}	 </if>	 <if test="paystatus!=null and paystatus!=''">		and paystatus=#{paystatus}	 </if>	 <if test="startDate!=null and startDate!=''">		and createdate &gt;= #{startDate}	 </if>	 <if test="endDate!=null and endDate!=''">		and createdate &lt;= #{endDate}	 </if> order by id desc  limit #{offset},#{pageSize} 	</select> 	<select id="manage.order.selectPageCount" parameterType="net.jeeshop.services.manage.order.bean.Order" resultType="java.lang.Integer">	 select count(*) from t_order where 1=1 	 <if test="id!=null and id!=''">		and id=#{id}	 </if>	 <if test="account!=null and account!=''">		and account=#{account}	 </if>	 <if test="status!=null and status!=''">		and status=#{status}	 </if>	 <if test="refundStatus!=null and refundStatus!=''">		and refundStatus=#{refundStatus}	 </if>	 <if test="paystatus!=null and paystatus!=''">		and paystatus=#{paystatus}	 </if>	 <if test="startDate!=null and startDate!=''">		and createdate &gt;= #{startDate}	 </if>	 <if test="endDate!=null and endDate!=''">		and createdate &lt;= #{endDate}	 </if>	</select>		<select id="manage.order.selectList" parameterType="net.jeeshop.services.manage.order.bean.Order" resultType="net.jeeshop.services.manage.order.bean.Order">	 select * from t_order t where 1=1 	 <if test="id!=null and id!=''">		and id=#{id}	 </if>	 <if test="account!=null and account!=''">		and account=#{account}	 </if>	 <if test="status!=null and status!=''">		and status=#{status}	 </if>	 <if test="refundStatus!=null and refundStatus!=''">		and refundStatus=#{refundStatus}	 </if>	 <if test="paystatus!=null and paystatus!=''">		and paystatus=#{paystatus}	 </if>	 <if test="startDate!=null and startDate!=''">		and createdate &gt;= #{startDate}	 </if>	 <if test="endDate!=null and endDate!=''">		and createdate &lt;= #{endDate}	 </if>	</select>		<select id="manage.order.selectCancelList" parameterType="net.jeeshop.services.manage.order.bean.Order" resultType="net.jeeshop.services.manage.order.bean.Order">	 select t.id from t_order t where 1=1 and status='init' and paystatus='n' and createdate &lt;= #{startDate} 	</select>		<select id="manage.order.selectOrderSales" parameterType="net.jeeshop.services.manage.order.bean.Order" resultType="net.jeeshop.web.action.manage.report.ReportInfo">	SELECT date_format(t.createdate,'%Y%m') createdate,sum(t.amount) sumAmount FROM t_order t	where 1=1 and t.paystatus='y'  and t.createdate &gt;= #{startDate}  and  t.createdate &lt;= #{endDate}  	group by date_format(t.createdate,'%Y%m')	</select>		<select id="manage.order.selectProductSales" parameterType="net.jeeshop.services.manage.order.bean.Order" resultType="net.jeeshop.web.action.manage.report.ReportInfo">	SELECT od.productID,od.productName,sum(od.number) productSellCount FROM t_order o,t_orderdetail od 	where 1=1 and o.id=od.orderid and o.paystatus='y'  and o.createdate &gt;= #{startDate}  and  o.createdate &lt;= #{endDate}      group by od.productID     order by sum(od.number) desc 	</select> 	<update id="manage.order.update" parameterType="net.jeeshop.services.manage.order.bean.Order">		update t_order		  set id=#{id}		<if test="status !=null and status !=''">		,status=#{status}		</if>		<if test="refundStatus !=null and refundStatus !=''">		,refundStatus=#{refundStatus}		</if>		 <if test="paystatus !=null and paystatus !=''">		,paystatus=#{paystatus}		</if>		<if test="amount !=null and amount !=''">		,amount=#{amount}		</if>		<if test="updateAmount !=null and updateAmount !=''">		,updateAmount=#{updateAmount}		</if>		 <if test="fee !=null and fee !=''">		,fee=#{fee}		</if>		<if test="account !=null and account !=''">		,account=#{account}		</if>		<if test="rebate !=null and rebate !=''">		,rebate=#{rebate}		</if>		<if test="remark !=null and remark !=''">		,remark=#{remark}		</if>		<if test="expressCode !=null and expressCode !=''">		,expressCode=#{expressCode}		</if>		<if test="expressName !=null and expressName !=''">		,expressName=#{expressName}		</if>		<if test="expressNo !=null and expressNo !=''">		,expressNo=#{expressNo}		</if>		<if test="expressCompanyName !=null and expressCompanyName !=''">		,expressCompanyName=#{expressCompanyName}		</if>		<if test="confirmSendProductRemark !=null and confirmSendProductRemark !=''">		,confirmSendProductRemark=#{confirmSendProductRemark}		</if>		<if test="closedComment!=null and closedComment!=''">		,closedComment=#{closedComment}		</if>		 where 1=1 and id=#{id}	</update>	<select id="manage.order.selectOne" parameterType="net.jeeshop.services.manage.order.bean.Order" resultType="net.jeeshop.services.manage.order.bean.Order">	 select * from t_order t where 1=1 and id=#{id}	</select>	<select id="manage.order.selectById" parameterType="string" resultType="net.jeeshop.services.manage.order.bean.Order">	 select * from t_order t where 1=1 and id=#{id}	</select>	<delete id="manage.order.deleteById" parameterType="net.jeeshop.services.manage.order.bean.Order">		delete from t_order where 1=1 and id=#{id}	</delete>	<update id="manage.order.updatePayMonery" parameterType="net.jeeshop.services.manage.order.bean.Order">		update t_order set id=#{id},amount=#{amount},updateAmount=#{updateAmount},ptotal=#{ptotal},fee=#{fee} where 1=1 and id=#{id}	</update>	<select id="manage.order.loadOrdersReport" resultType="net.jeeshop.services.manage.order.bean.OrdersReport">		SELECT 		(SELECT count(*) FROM t_order where status='cancel')  cancelCount,		(SELECT count(*) FROM t_order where paystatus='n' and status!='cancel')  notPayCount,		(SELECT count(*) FROM t_order where paystatus='y' and status='init')  payButNotPassCount,		(SELECT count(*) FROM t_order where paystatus='y' and status='pass')  waitSendGoodsCount,				(SELECT count(*) FROM t_order where refundStatus='WAIT_SELLER_AGREE')  WAIT_SELLER_AGREE,		(SELECT count(*) FROM t_order where refundStatus='SELLER_REFUSE_BUYER')  SELLER_REFUSE_BUYER,		(SELECT count(*) FROM t_order where refundStatus='WAIT_BUYER_RETURN_GOODS')  WAIT_BUYER_RETURN_GOODS,		(SELECT count(*) FROM t_order where refundStatus='WAIT_SELLER_CONFIRM_GOODS')  WAIT_SELLER_CONFIRM_GOODS				FROM t_systemsetting	</select></mapper>